# Session 1: Project Initialization
**Date**: June 6, 2025
**Duration**: ~45 minutes

## Summary
Initial setup of a custom Bluesky client using React, TypeScript, and Vite. Successfully implemented authentication and basic timeline feed viewing.

## Goals Accomplished
1. ✅ Set up React + TypeScript + Vite project
2. ✅ Installed AT Protocol SDK (@atproto/api)
3. ✅ Implemented authentication with session persistence
4. ✅ Created basic feed viewer
5. ✅ Fixed post text display issue

## Technical Decisions
- **React + TypeScript**: Type safety and good ecosystem
- **Vite**: Fast development experience, minimal config
- **@atproto/api**: Official SDK for AT Protocol
- **Context API**: Simple state management for auth
- **localStorage**: Session persistence

## Problems Encountered & Solutions

### 1. Safari Connection Issue
**Problem**: Safari couldn't connect to `localhost:5173`
**Solution**: Use `http://127.0.0.1:5173/` instead

### 2. Post Text Not Displaying
**Problem**: Posts were loading but text content was empty
**Investigation**: Added console.log to inspect post structure
**Discovery**: Text is in `post.record.value.text` not `post.record.text`
**Solution**: Updated `getPostText()` helper function to access correct path

### 3. Vite Process Management
**Problem**: Initial attempts to create project in current directory failed
**Solution**: Created in subdirectory then moved files

## Code Snippets

### Key API Response Structure
```javascript
{
  record: {
    uri: "at://did:plc:...",
    cid: "bafyrei...",
    value: {
      $type: "app.bsky.feed.post",
      text: "Post content here",
      createdAt: "2025-06-06T18:47:05.607Z"
    }
  }
}
```

### Text Extraction Fix
```typescript
const getPostText = (post: Post): string => {
  if (post.record && post.record.value && typeof post.record.value === 'object' && 'text' in post.record.value) {
    return post.record.value.text || ''
  }
  return ''
}
```

## File Structure Created
```
BSKY/
├── src/
│   ├── components/
│   │   ├── Feed.tsx
│   │   └── Login.tsx
│   ├── contexts/
│   │   └── AuthContext.tsx
│   ├── services/
│   │   └── atproto.ts
│   ├── App.tsx
│   └── main.tsx
├── package.json
└── vite.config.ts
```

## Next Steps
1. Add post creation functionality
2. Implement like/repost features
3. Add thread viewing
4. Create user profile component
5. Add proper error handling
6. Implement pull-to-refresh
7. Add keyboard shortcuts
8. Create settings panel

## Running the Project
```bash
# Terminal 1 - Keep dev server running
npm run dev

# Browser - Use this URL
http://127.0.0.1:5173/
```

## Notes for Next Session
- Dev server needs to be running for the app to work
- Check console logs when debugging API responses
- The AT Protocol uses nested structures - always verify paths
- Consider adding TypeScript types for API responses